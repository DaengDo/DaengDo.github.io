const c="cache",i=["/","/index.html","/index.js","/install-pc.png"],s=self;s.addEventListener("install",e=>{console.log("Service Worker 설치 중......",e),e.waitUntil(caches.open(c).then(t=>t.addAll(i))),s.skipWaiting()});s.addEventListener("activate",e=>{console.log("Service Worker 활성화됨.",e),e.waitUntil(caches.keys().then(t=>Promise.all(t.map(n=>{if(n!==c)return console.log("이전 캐시 삭제:",n),caches.delete(n)})))),s.clients.claim()});s.addEventListener("fetch",e=>{const t=caches.match(e.request).then(n=>n||fetch(e.request)).catch(()=>caches.match("/offline.html"));e.respondWith(t)});
